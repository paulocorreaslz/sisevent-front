{"remainingRequest":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/babel-loader/lib/index.js!/home/paulo/eclipse-workspace/sisevent-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/paulo/eclipse-workspace/sisevent-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paulo/eclipse-workspace/sisevent-front/src/components/CustomersList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paulo/eclipse-workspace/sisevent-front/src/components/CustomersList.vue","mtime":1563088211584},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from \"../http-common\";\nexport default {\n  name: \"customers-list\",\n  props: ['msgalert'],\n  data: function data() {\n    return {\n      customers: [],\n      messageList: \"\"\n    };\n  },\n  methods: {\n    /* eslint-disable no-console */\n    retrieveCustomers: function retrieveCustomers() {\n      var _this = this;\n\n      var config = {\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Access-Control-Allow-Methods': 'GET,PUT,PATCH,POST,DELETE',\n          'Content-Type': 'application/json'\n        }\n      };\n      http.get(\"/customers\", config).then(function (response) {\n        _this.customers = response.data; // JSON are parsed automatically.\n\n        console.log(response.data);\n        console.log(\"apos get customers\");\n        _this.messageList = _this.$route.params.message;\n        console.log(_this.messageList);\n      }).catch(function (e) {\n        console.log(e);\n        alert(e);\n      });\n    },\n    refreshList: function refreshList() {\n      this.retrieveCustomers();\n    },\n    printPdf: function printPdf() {\n      http.get(\"/getCustomerReport\", {\n        responseType: 'arraybuffer',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/pdf'\n        }\n      }).then(function (response) {\n        // open in window pdf\n        // var blob = new Blob([response.data], {\n        //\ttype: 'application/pdf'\n        //});\n        //var url = window.URL.createObjectURL(blob)\n        //window.open(url);\n        //download pdf\n        var url = window.URL.createObjectURL(new Blob([response.data]));\n        var link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', 'file.pdf'); //or any other extension\n\n        document.body.appendChild(link);\n        link.click();\n      }).catch(function (e) {\n        console.log(e);\n        alert(e);\n      });\n    }\n    /* eslint-enable no-console */\n\n  },\n  mounted: function mounted() {\n    this.retrieveCustomers();\n  },\n  watch: {\n    $route: function $route(to, from) {\n      this.retrieveCustomers();\n      this.refreshList();\n    }\n  }\n};",{"version":3,"sources":["CustomersList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,IAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA,CAAA,UAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GARA;AASA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,iBAFA,+BAEA;AAAA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EACA;AACA,yCAAA,GADA;AAEA,0CAAA,2BAFA;AAGA,0BAAA;AAHA;AAFA,OAAA;AAQA,MAAA,IAAA,CACA,GADA,CACA,YADA,EACA,MADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CADA,CACA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,oBAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,WAAA;AACA,OARA,EASA,KATA,CASA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,CAAA,CAAA;AACA,OAZA;AAaA,KAxBA;AAyBA,IAAA,WAzBA,yBAyBA;AACA,WAAA,iBAAA;AACA,KA3BA;AA4BA,IAAA,QA5BA,sBA4BA;AAEA,MAAA,IAAA,CACA,GADA,CACA,oBADA,EACA;AACA,QAAA,YAAA,EAAA,aADA;AAEA,QAAA,OAAA,EAAA;AACA,0BAAA,kBADA;AAEA,oBAAA;AAFA;AAFA,OADA,EAQA,IARA,CAQA,UAAA,QAAA,EAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,YAAA,GAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,IAAA,CAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,QAAA,IAAA,CAAA,IAAA,GAAA,GAAA;AACA,QAAA,IAAA,CAAA,YAAA,CAAA,UAAA,EAAA,UAAA,EAbA,CAaA;;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,QAAA,IAAA,CAAA,KAAA;AACA,OAxBA,EAyBA,KAzBA,CAyBA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,CAAA,CAAA;AACA,OA5BA;AA6BA;AACA;;AA5DA,GATA;AAuEA,EAAA,OAvEA,qBAuEA;AACA,SAAA,iBAAA;AACA,GAzEA;AA0EA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA,IADA,EACA;AACA,WAAA,iBAAA;AACA,WAAA,WAAA;AACA;AAJA;AA1EA,CAAA","sourcesContent":["<template>\n    <div class=\"mx-auto list\">\n\t\t<Message></Message>\n\t\t<p v-on:click=\"printPdf\"> <a href=\"#\"> Imprimir </a></p>\n\t\t<div class=\"table\">\n\t\t\t<div class=\"tr\">\n\t\t\t\t<div class=\"td\">\n\t\t\t\t\t<h4>Lista de Clientes</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li v-for=\"(customer, index) in customers\" :key=\"index\">\n\t\t\t\t\t\t\t<router-link :to=\"{\n\t\t\t\t\t\t\t\t\tname: 'customer-details',\n\t\t\t\t\t\t\t\t\tparams: { customer: customer, id: customer.id }\n\t\t\t\t\t\t\t\t}\">\n\t\t\t\t\t\t\t\t\t{{customer.name}}\n\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"td\">\n\t\t\t\t\t<router-view @refreshData=\"refreshList\"></router-view>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n    </div>\n</template>\n \n<script>\nimport http from \"../http-common\";\n\nexport default {\n  name: \"customers-list\",\n  props: ['msgalert'],\n  data() {\n    return {\n\t  customers: [],\n\t  messageList: \"\",\n\t};\n  },\n  methods: {\n    /* eslint-disable no-console */\n    retrieveCustomers() {\n\t\tlet config = { \n\t\t\theaders: \n\t\t\t\t{ \n\t\t\t\t'Access-Control-Allow-Origin': '*', \n\t\t\t\t'Access-Control-Allow-Methods': 'GET,PUT,PATCH,POST,DELETE', \n\t\t\t\t'Content-Type': 'application/json' \n\t\t\t\t} \n\t\t\t}; \n      http\n        .get(\"/customers\", config)\n        .then(response => {\n          this.customers = response.data; // JSON are parsed automatically.\n\t\t  console.log(response.data);\n\t\t  console.log(\"apos get customers\");\n\t\t  this.messageList = this.$route.params.message;\n\t\t  console.log(this.messageList);\n        })\n        .catch(e => {\n\t\t  console.log(e);\n\t\t  alert(e);\n        });\n\t},\n    refreshList() {\n      this.retrieveCustomers();\n\t},\n\tprintPdf(){\n\t\t\n\t\thttp\n        .get(\"/getCustomerReport\",{\n            responseType: 'arraybuffer',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/pdf'\n            }\n        })\n        .then(response => {\n\t\t\t\n\t\t\t// open in window pdf\n\t\t\t// var blob = new Blob([response.data], {\n          \t//\ttype: 'application/pdf'\n\t\t   \t//});\n\t\t   \t//var url = window.URL.createObjectURL(blob)\n\t\t\t//window.open(url);\n\n\t\t\t//download pdf\n\t\t\tconst url = window.URL.createObjectURL(new Blob([response.data]));\n            const link = document.createElement('a');\n            link.href = url;\n            link.setAttribute('download', 'file.pdf'); //or any other extension\n            document.body.appendChild(link);\n            link.click();\n\t   })\n        .catch(e => {\n\t\t  console.log(e);\n\t\t  alert(e);\n        });\n\t}\n    /* eslint-enable no-console */\n  },\n  mounted() {\n\tthis.retrieveCustomers();\n  },\n  watch: {\n\t$route(to, from){\n\t\tthis.retrieveCustomers();\n\t\tthis.refreshList();\n\t}\n  }\n};\n</script>"],"sourceRoot":"src/components"}]}