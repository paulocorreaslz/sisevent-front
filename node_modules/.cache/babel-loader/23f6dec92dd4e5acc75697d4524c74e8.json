{"remainingRequest":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/thread-loader/dist/cjs.js!/home/paulo/eclipse-workspace/sisevent-front/node_modules/babel-loader/lib/index.js!/home/paulo/eclipse-workspace/sisevent-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/paulo/eclipse-workspace/sisevent-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paulo/eclipse-workspace/sisevent-front/src/components/Customer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paulo/eclipse-workspace/sisevent-front/src/components/Customer.vue","mtime":1562914398000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paulo/eclipse-workspace/sisevent-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/home/paulo/eclipse-workspace/sisevent-front/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from \"../http-common\";\nimport { watch } from 'fs';\nexport default {\n  name: \"customer\",\n  props: [\"customer\"],\n  data: function data() {\n    // newcustomer não é visualizado fora de data()\n    return {\n      messagelocal: '',\n      submittedAddress: false,\n      newcustomer: {\n        id: 0,\n        name: \"\",\n        age: 0,\n        address: {\n          street: \"\",\n          placenumber: 0,\n          postalcode: 0\n        }\n      },\n      address: {\n        street: \"\",\n        placenumber: 0,\n        postalcode: 0\n      }\n    };\n  },\n  methods: {\n    /* eslint-disable no-console */\n    setMessage: function setMessage(event) {\n      this.messagelocal = event.target.value;\n      this.$emit('messageChanged', this.messagelocal);\n    },\n    updateActive: function updateActive(status) {\n      var _this = this;\n\n      var data = {\n        id: this.customer.id,\n        name: this.customer.name,\n        age: this.customer.age,\n        active: status,\n        address: this.customer.address\n      };\n      http.put(\"/customer/\" + this.customer.id, data).then(function (response) {\n        _this.customer.active = response.data.active;\n        console.log(response.data);\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    deleteCustomer: function deleteCustomer() {\n      var _this2 = this;\n\n      http.delete(\"/customer/\" + this.customer.id).then(function (response) {\n        console.log(response.data);\n\n        _this2.$emit(\"refreshData\");\n\n        _this2.mensagem = \"Usuario deletado!\";\n        console.log(_this2.mensagem);\n\n        _this2.$router.push({\n          name: 'customers',\n          params: {\n            message: _this2.mensagem\n          }\n        });\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    addAddress: function addAddress() {\n      var _this3 = this;\n\n      this.newcustomer.address = _objectSpread({}, this.address);\n\n      var data = _objectSpread({}, this.newcustomer);\n\n      console.log(data);\n      http.post(\"/address\", data).then(function (response) {\n        _this3.mensagem = \"Endereço cadastrado!\";\n        console.log(_this3.mensagem);\n\n        _this3.$router.push({\n          name: 'customers',\n          params: {\n            message: _this3.mensagem\n          }\n        });\n\n        console.log(response.data);\n      }).catch(function (e) {\n        console.log(e);\n      });\n      this.submittedAddress = true;\n    },\n    newAddress: function newAddress() {\n      this.submittedAddress = false;\n      this.customer = {};\n    }\n    /* eslint-enable no-console */\n\n  },\n  mounted: function mounted() {\n    this.newcustomer = _objectSpread({}, this.customer);\n  },\n  watch: {\n    customer: function customer(newvalue, oldvalue) {\n      console.log(\"alterou customer:\");\n      console.log(newvalue);\n      console.log(oldvalue);\n      this.newcustomer = _objectSpread({}, this.customer);\n    }\n  }\n};",{"version":3,"sources":["Customer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"list\"> \n  <div v-if=\"this.customer\">\n    <h4>Cliente</h4>\n    <div>\n      <label>Nome: </label> {{this.customer.name}}\n    </div>\n    <div>\n      <label>Idade: </label> {{this.customer.age}}\n    </div>\n    <div>\n      <label>Ativo: </label> {{this.customer.active}}\n    </div>  \n    <button v-if=\"this.customer.active\"\n      v-on:click=\"updateActive(false)\"\n      class=\"button btn-primary\">Inactive</button>\n    <button v-else\n      v-on:click=\"updateActive(true)\"\n      class=\"button btn-primary\">Active</button>\n    <button class=\"button btn-danger\" v-on:click=\"deleteCustomer()\">Delete</button>\n\t<p></p>\n\t\t\t<div class=\"submitform\">\n\t\t\t\t<div v-if=\"customer.address != null\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"name\">Rua</label>\n\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"street\" required v-model.trim=\"customer.address.street\" name=\"street\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"age\">Numero</label>\n\t\t\t\t\t<input type=\"number\" class=\"form-control\" id=\"placenumber\" required v-model.trim=\"customer.address.placenumber\" name=\"placenumber\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"age\">Codigo postal</label>\n\t\t\t\t\t<input type=\"number\" class=\"form-control\" id=\"postalcode\" required v-model.trim=\"customer.address.postalcode\" name=\"postalcode\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<button v-on:click=\"addAddress\" class=\"btn btn-success\">Salvar</button>\n\t\t\t\t</div>\n\t\t\t\t<div v-else>\n\t\t\t\t<h4> Cadastrar Endereço:</h4>\n\t\t\t\t\t<div class=\"submitform\">\n\t\t\t\t\t<div v-if=\"!submittedAddress\">\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"name\">Rua</label>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"street\" v-model=\"address.street\" required name=\"street\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"age\">Numero</label>\n\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" id=\"placenumber\" v-model=\"address.placenumber\" required name=\"placenumber\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"age\">Código postal</label>\n\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" id=\"postalcode\" v-model=\"address.postalcode\" required name=\"postalcode\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button v-on:click=\"addAddress\" class=\"btn btn-success\">Salvar</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t<h4> Nenhum endereço!</h4>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n  \t\t\n  </div>\n  <div v-else>\n    <br/>\n    <p>Selecione um cliente...</p>\n  </div>\n</div>\n</template>\n \n<script>\nimport http from \"../http-common\";\nimport { watch } from 'fs';\n \nexport default {\n  name: \"customer\",\n  props: [\"customer\"],\n  data() {\n\t  // newcustomer não é visualizado fora de data()\n    return {\n\t  messagelocal:'',\n\t  submittedAddress: false,\n\t  newcustomer: { \n\t\t  id: 0,\n\t\t  name: \"\",\n\t\t  age: 0,\n\t\t  address: {\n\t\t\t  street: \"\",\n\t\t      placenumber: 0,\n\t\t  \t  postalcode: 0\n\t\t  }\n\t  },\n\t  address: {\n\t\t  street: \"\",\n\t\t  placenumber: 0,\n\t\t  postalcode: 0\n\t  },\n    };\n  },\n  \n  methods: {\n\t/* eslint-disable no-console */\n\tsetMessage (event) {\n      this.messagelocal = event.target.value;\n      this.$emit('messageChanged', this.messagelocal)\n    },\n  \n    updateActive(status) {\n      var data = {\n        id: this.customer.id,\n        name: this.customer.name,\n        age: this.customer.age,\n\t\tactive: status,\n\t\taddress: this.customer.address\n      };\n \n      http\n        .put(\"/customer/\" + this.customer.id, data)\n        .then(response => {\n\t\t  this.customer.active = response.data.active;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n\t},\n    deleteCustomer() {\n      http\n        .delete(\"/customer/\" + this.customer.id)\n        .then(response => {\n          console.log(response.data);\n          this.$emit(\"refreshData\");\n\t\t  this.mensagem = \"Usuario deletado!\";\n\t\t  console.log(this.mensagem); \n\t\t  this.$router.push({name: 'customers', params: { message:this.mensagem }});\n        })\n        .catch(e => {\n          console.log(e);\n        });\n\t},\n    addAddress() {\t\n\tthis.newcustomer.address = { ...this.address };\n\t\n\tvar data = {...this.newcustomer};\n\t  console.log(data);\n\t\n      http\n        .post(\"/address\", data)\n        .then(response => {\n\t\t  this.mensagem = \"Endereço cadastrado!\";\n\t\t  console.log(this.mensagem); \n\t\t  this.$router.push({name: 'customers', params: { message:this.mensagem }});\n\t\t  console.log(response.data);\n\t   })\n        .catch(e => {\n          console.log(e);\n        });\n\t  this.submittedAddress = true;\n    },\n    newAddress() {\n      this.submittedAddress = false;\n\t  this.customer = {};\n    }\n    /* eslint-enable no-console */\n  },\n  mounted(){\n\t  this.newcustomer = { ...this.customer };\n  },\n  watch : {\n\t  customer (newvalue, oldvalue) {\n\t\tconsole.log(\"alterou customer:\")\n\t  \tconsole.log(newvalue);\n\t\tconsole.log(oldvalue);\n\t\tthis.newcustomer = { ...this.customer };\t\t  \n\t  }\n  }\n};\n</script>"],"sourceRoot":"src/components"}]}